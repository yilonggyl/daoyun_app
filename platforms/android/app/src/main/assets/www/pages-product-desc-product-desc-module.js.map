{"version":3,"sources":["webpack:///./src/app/components/popover/popover.component.html","webpack:///./src/app/components/popover/popover.component.scss","webpack:///./src/app/components/popover/popover.component.ts","webpack:///./src/app/pages/product-desc/product-desc.module.ts","webpack:///./src/app/pages/product-desc/product-desc.page.html","webpack:///./src/app/pages/product-desc/product-desc.page.scss","webpack:///./src/app/pages/product-desc/product-desc.page.ts","webpack:///./src/app/services/user.service.ts"],"names":[],"mappings":"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","file":"pages-product-desc-product-desc-module.js","sourcesContent":["module.exports = \"<ion-list lines=\\\"full\\\" no-padding>\\n  <ion-item lines=\\\"full\\\" (click)=\\\"editProduct()\\\">修改商品</ion-item>\\n  <ion-item (click)=\\\"delProduct()\\\">删除商品</ion-item>\\n</ion-list>\"","module.exports = \"\"","import {Component, NgZone, OnInit} from '@angular/core';\nimport {AlertController, NavParams, PopoverController} from '@ionic/angular';\nimport {Product} from '../../shared/product';\nimport {ProductService} from '../../services/product.service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-popover',\n  templateUrl: './popover.component.html',\n  styleUrls: ['./popover.component.scss']\n})\nexport class PopoverComponent implements OnInit {\n  id: string;\n  product: Product;\n  constructor(private navParams: NavParams, private productService: ProductService,\n              private alertController: AlertController, private router: Router,\n              private popoverController: PopoverController, private ngZone: NgZone) {\n       this.id = navParams.data['id'];\n  }\n\n  ngOnInit() {\n  }\n  async delProduct() {\n      let alert = await this.alertController.create({\n          header: '警告',\n          message: '您确认要删除该产品吗！',\n          buttons: [\n              {\n                  text: '取消',\n                  role: 'cancel',\n                  cssClass: 'secondary',\n                  handler: (blah) => {\n                  }\n              }, {\n                  text: '确认',\n                  handler: () => {\n                      if (this.id && this.productService.delete(this.id)) {\n                          // 删除成功\n                          this.ngZone.run(() => {\n                              this.router.navigateByUrl('productList');\n                          });\n                      }\n                      this.popoverController.dismiss();\n                  }\n              }\n          ]\n      });\n      await alert.present();\n  }\n  async editProduct() {\n      this.popoverController.dismiss();\n      this.router.navigate(['/addProduct'], {queryParams: {'id': this.id}});\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductDescPage } from './product-desc.page';\nimport {PopoverComponent} from '../../components/popover/popover.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductDescPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProductDescPage, PopoverComponent],\n  entryComponents: [PopoverComponent]\n})\nexport class ProductDescPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"light\\\" (click)=\\\"back()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>商品列表\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>商品详情</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button color=\\\"light\\\" (click)=\\\"presentPopover($event)\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"more\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content no-padding>\\n  <form (ngSubmit)=\\\"onSave()\\\" #productForm=\\\"ngForm\\\" style=\\\"width: 100%;\\\">\\n    <ion-list lines=\\\"full\\\">\\n      <ion-item>\\n        <ion-thumbnail style=\\\"margin: 10px 10px;\\\" *ngFor=\\\"let c of product.images\\\">\\n          <img src=\\\"{{c}}\\\" />\\n        </ion-thumbnail>\\n        <ion-thumbnail slot=\\\"start\\\" style=\\\"margin: 10px 0;\\\">\\n          <img src=\\\"assets/img/supplier_icon.png\\\">\\n        </ion-thumbnail>\\n      </ion-item>\\n      <ion-item>\\n        <ion-text style=\\\"margin: 10px 30px 10px 10px;width: 50px;\\\">名称</ion-text>\\n        <ion-note slot=\\\"end\\\">{{product.name}}</ion-note>\\n      </ion-item>\\n      <ion-item>\\n        <ion-text style=\\\"margin: 10px 30px 10px 10px;width: 50px;\\\">分类</ion-text>\\n        <ion-note slot=\\\"end\\\">{{product.categoryName}}</ion-note>\\n      </ion-item>\\n      <ion-item>\\n        <ion-text style=\\\"margin: 10px 30px 10px 10px;width: 50px;\\\">条码</ion-text>\\n        <ion-note slot=\\\"end\\\">{{product.barcode}}</ion-note>\\n      </ion-item>\\n      <ion-item>\\n        <ion-text style=\\\"margin: 10px 30px 10px 10px;width: 50px;\\\">进价</ion-text>\\n        <ion-buttons slot=\\\"end\\\" (click)=\\\"validate()\\\">\\n          <ion-button fill=\\\"outline\\\" color=\\\"primary\\\" size=\\\"small\\\" *ngIf=\\\"!isValidate\\\">查看进价</ion-button>\\n          <ion-note slot=\\\"end\\\" *ngIf=\\\"isValidate\\\">￥{{product.bid | number:'1.2-2'}}</ion-note>\\n        </ion-buttons>\\n      </ion-item>\\n      <ion-item>\\n        <ion-text style=\\\"margin: 10px 30px 10px 10px;width: 50px;\\\">售价</ion-text>\\n        <ion-note slot=\\\"end\\\">￥{{product.price | number:'1.2-2'}}</ion-note>\\n      </ion-item>\\n      <ion-item>\\n        <ion-text style=\\\"margin: 10px 30px 10px 10px;width: 50px;\\\">规格</ion-text>\\n        <ion-note slot=\\\"end\\\">{{product.spec}}</ion-note>\\n      </ion-item>\\n      <ion-item>\\n        <ion-text style=\\\"margin: 10px 30px 10px 10px;width: 50px;\\\">库存</ion-text>\\n        <ion-note slot=\\\"end\\\">{{product.stock}}</ion-note>\\n      </ion-item>\\n    </ion-list>\\n    <ion-row>\\n      <ion-col>\\n        <ion-button expand=\\\"full\\\" color=\\\"primary\\\"  routerLink=\\\"/inOutStock\\\" [queryParams]=\\\"{'id': id}\\\">出入库</ion-button>\\n      </ion-col>\\n      <ion-col>\\n        <ion-button expand=\\\"full\\\" fill=\\\"outline\\\" color=\\\"primary\\\" (click)=\\\"onPresentActionSheet()\\\">分享</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </form>\\n</ion-content>\\n\"","module.exports = \"\"","import {Component, NgZone, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Product} from '../../shared/product';\nimport {ProductService} from '../../services/product.service';\nimport {Location} from '@angular/common';\nimport {ActionSheetController, AlertController, PopoverController, ToastController} from '@ionic/angular';\nimport {PopoverComponent} from '../../components/popover/popover.component';\nimport {UserService} from '../../services/user.service';\nimport {AppShare} from '../../services/app-share.service';\n\n@Component({\n  selector: 'app-product-desc',\n  templateUrl: './product-desc.page.html',\n  styleUrls: ['./product-desc.page.scss'],\n})\nexport class ProductDescPage implements OnInit {\n    id: string;\n    product: Product;\n    isValidate = false;\n  constructor(private activatedRoute: ActivatedRoute, private productService: ProductService,\n              private router: Router, private location: Location, private popoverController: PopoverController,\n              private alertController: AlertController, private userService: UserService,\n              private zone: NgZone, private toastController: ToastController,\n              private actionSheetController: ActionSheetController, private appShare: AppShare) {\n      activatedRoute.queryParams.subscribe(queryParams => {\n          this.id = queryParams.id;\n          productService.getProductById(this.id).then( (data) => {\n              if (data.success == true) {\n                  this.product = data.result;\n              }\n          });\n      });\n  }\n\n  ngOnInit() {\n  }\n  ionViewWillEnter() {\n      this.isValidate = false;\n      this.productService.getProductById(this.id).then( (data) => {\n          if (data.success == true) {\n              this.product = data.result;\n          }\n      });\n  }\n  back() {\n      this.location.back();\n  }\n  async presentPopover(ev) {\n      const popover = await this.popoverController.create({\n          component: PopoverComponent,\n          componentProps: {'id': this.product.id },\n          event: ev,\n          translucent: true\n      });\n      return await popover.present();\n  }\n  async validate() {\n      const alert = await this.alertController.create({\n          header: '请验证您的身份',\n          inputs: [\n              {\n                  name: 'username',\n                  type: 'text',\n                  placeholder: '用户名'\n              },\n              {\n                  name: 'password',\n                  type: 'password',\n                  placeholder: '密码'\n              }\n          ],\n          buttons: [\n              {\n                  text: '取消',\n                  role: 'cancel',\n                  cssClass: 'secondary',\n                  handler: () => {\n                      console.log('Confirm Cancel');\n                  }\n              }, {\n                  text: '确定',\n                  handler: (data) => {\n                      if (this.userService.login(data.username, data.password)) {\n                          this.zone.run(() => {\n                              this.isValidate = true;\n                          });\n                      } else {\n                          this.toastShow();\n                      }\n                  }\n              }\n          ]\n      });\n      await alert.present();\n  }\n  async toastShow() {\n      let toast = await this.toastController.create({\n          message: '用户名或者密码错误',\n          duration: 3000\n      });\n      toast.present();\n  }\n    async onPresentActionSheet() {\n        const actionSheet = await this.actionSheetController.create({\n            header: '分享',\n            buttons: [\n                {\n                    text: '微信好友',\n                    role: 'destructive',\n                    handler: () => {\n                        this.appShare.wxShare(0);\n                    }\n                }, {\n                    text: '朋友圈',\n                    handler: () => {\n                        this.appShare.wxShare(1);\n                    }\n                }, {\n                    text: '短信',\n                    handler: () => {\n                        this.appShare.sendSms();\n                    }\n                }, {\n                    text: 'QQ好友',\n                    handler: () => {\n                        this.appShare.qqShare();\n                    }\n                }, {\n                    text: '取消',\n                    role: 'cancel',\n                    handler: () => {\n                    }\n                }\n            ]\n        });\n        await actionSheet.present();\n    }\n}\n","import { Injectable } from '@angular/core';\nimport {AjaxResult} from '../shared/ajax-result';\nimport {Register} from '../shared/register';\nimport {LocalStorageService} from './local-storage.service';\nimport {Events} from '@ionic/angular';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n\n  constructor(private localStorageService: LocalStorageService, public events: Events, private http: HttpClient) { }\n\n  signup(register: Register): Promise<AjaxResult> {\n    return new Promise(((resolve, reject) => {\n      // resolve\n    }));\n  }\n  async signup1(register: Register) {\n    let user = {\n      shopName: register.shopName,\n      phone: register.phone,\n      email: register.email,\n      accounts: {phone: register.phone, passwordToken: register.password},\n      registerDate: new Date().toISOString().replace(/T/g, ' ').replace(/\\.[\\d]{3}Z/, ''),\n      shortName: '',\n      owner: '',\n      shopPhone: '',\n      businessType: ''\n    };\n    let u = this.localStorageService.get('user', []);\n    u.push(user);\n    this.localStorageService.set('user', u);\n  }\n  login(username: string, password: string): boolean {\n      let url = 'http://114.115.155.218:8080/login/account';\n      this.http.post(url, {\n          'userName': username,\n          'password': password\n      }).toPromise().then(response => {\n          let res = response;\n          console.log(res);\n      });\n      let user = this.localStorageService.get('user', null);\n      console.log(user);\n      if (user != null) {\n          for (let u of user) {\n            if (u.accounts.phone == username && u.accounts.passwordToken == password) {\n                this.localStorageService.set('login', u);\n                this.events.publish('user:created',u, Date.now());\n                return true;\n            }\n          }\n      }\n      return false;\n  }\n  // 修改密码\n  update(phone: string, password: string): boolean {\n      let user = this.localStorageService.get('user', null);\n      if ( user != null ) {\n          for (let u of user) {\n              if (u.phone == phone) {\n                  u.accounts.passwordToken = password;\n                  break;\n              }\n          }\n          this.localStorageService.set('user', user);\n          return true;\n      }\n      return false;\n  }\n  // 判断手机号是否已经存在\n  check(phone: string): boolean {\n      let user = this.localStorageService.get('user', null);\n      if (user != null) {\n          for (let u of user) {\n              if (u.phone == phone) {\n                  return true;\n              }\n          }\n      }\n      return false;\n  }\n}\n"],"sourceRoot":""}