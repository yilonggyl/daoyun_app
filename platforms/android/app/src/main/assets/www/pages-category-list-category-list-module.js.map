{"version":3,"sources":["webpack:///./src/app/pages/category-list/category-list.module.ts","webpack:///./src/app/pages/category-list/category-list.page.html","webpack:///./src/app/pages/category-list/category-list.page.scss","webpack:///./src/app/pages/category-list/category-list.page.ts"],"names":[],"mappings":"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","file":"pages-category-list-category-list-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CategoryListPage } from './category-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CategoryListPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CategoryListPage]\n})\nexport class CategoryListPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"light\\\" (click)=\\\"back()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>商品分类</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button color=\\\"light\\\" routerLink=\\\"/addCategory\\\" [queryParams]=\\\"{'id': 0, 'name': ''}\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"add\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content no-padding>\\n  <ion-grid no-padding>\\n    <ion-row no-padding align-items-stretch>\\n      <ion-col size=\\\"5\\\" no-padding left>\\n        <ion-list lines=\\\"full\\\" color=\\\"light\\\">\\n          <ion-item color=\\\"light\\\">大分类</ion-item>\\n          <ion-item *ngFor=\\\"let c of categories\\\" [color]=\\\"getItemColor(c.id)\\\" (click)=\\\"onSelectCategory(c.id)\\\" [ngClass]=\\\"{'item-active': c.id===activeCategory.id}\\\">\\n            {{c.name}}\\n          </ion-item>\\n        </ion-list>\\n      </ion-col>\\n      <ion-col size=\\\"7\\\" no-padding>\\n        <ion-list lines=\\\"none\\\">\\n          <ion-item lines=\\\"full\\\">小分类</ion-item>\\n          <ion-item detail lines=\\\"full\\\" (click)=\\\"onSelectSubCategory(activeCategory)\\\">无小分类进入大分类</ion-item>\\n          <ion-item detail *ngFor=\\\"let ac of activeCategory.children\\\" lines=\\\"full\\\" (click)=\\\"onSelectSubCategory(ac)\\\">\\n            {{ac.name}}\\n          </ion-item>\\n          <ion-item detail=\\\"false\\\" routerLink=\\\"/addCategory\\\" [queryParams]=\\\"{'id': activeCategory.id, 'name': activeCategory.name}\\\">\\n            <ion-icon slot=\\\"start\\\" name='add-circle' color=\\\"primary\\\"></ion-icon>\\n            <ion-label color=\\\"primary\\\">新增小分类</ion-label>\\n          </ion-item>\\n        </ion-list>\\n        <ion-list class=\\\"list-footer\\\" lines=\\\"none\\\" no-margin >\\n          <ion-item lines=\\\"full\\\">\\n            <ion-text *ngIf=\\\"activeCategory.children.length===0\\\"><h6>目前没有小分类</h6></ion-text>\\n            <ion-text *ngIf=\\\"activeCategory.children.length!==0\\\">共{{activeCategory.children.length}}种商品分类</ion-text>\\n            <ion-button color=\\\"light\\\" slot=\\\"end\\\" (click)=\\\"onPresentActionSheet()\\\">\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"more\\\"></ion-icon>\\n            </ion-button>\\n          </ion-item>\\n        </ion-list>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\"","module.exports = \"ion-grid {\\n  height: 100%;\\n  align-items: stretch; }\\n  ion-grid ion-row {\\n    flex: 1 0 100%;\\n    height: 100%; }\\n  ion-grid ion-row ion-col[left] {\\n      background-color: var(--ion-color-light); }\\n  ion-grid .list-footer {\\n    position: absolute;\\n    bottom: 0px;\\n    right: 0px;\\n    left: 0px; }\\n  ion-grid .item-active {\\n    border-left-color: var(--ion-color-primary);\\n    border-left-width: 4px;\\n    border-left-style: solid; }\\n\"","import {Component, NgZone, OnInit} from '@angular/core';\nimport {CategoryService} from '../../services/category.service';\nimport {ActionSheetController, Events} from '@ionic/angular';\nimport {Category} from '../../shared/category';\nimport {Router} from '@angular/router';\nimport {Location} from '@angular/common';\n@Component({\n  selector: 'app-category-list',\n  templateUrl: './category-list.page.html',\n  styleUrls: ['./category-list.page.scss'],\n})\nexport class CategoryListPage implements OnInit {\n  count = 0;\n  activeCategory: Category;\n  categories: Array<Category>;\n  constructor(private categoryService: CategoryService, private actionSheetController: ActionSheetController,\n              private router: Router, private events: Events, private location: Location,\n              private ngZone: NgZone) {\n      categoryService.getAll().then((data) => {\n          this.categories = data.result;\n          if (this.categories) {\n              this.activeCategory = this.categories[0];\n          }\n      });\n  }\n  ionViewWillEnter() {\n      this.categoryService.getAll().then((data) => {\n          this.categories = data.result;\n          if (this.categories) {\n              this.activeCategory = this.categories[0];\n          }\n      });\n  }\n\n  ngOnInit() {\n  }\n  async onPresentActionSheet() {\n      const actionSheet = await this.actionSheetController.create({\n          header: '选择您的操作',\n          buttons: [\n              {\n                  text: '新增小分类',\n                  role: 'destructive',\n                  handler: () => {\n                      this.ngZone.run(() => {\n                          this.router.navigate(['/addCategory'],\n                              {queryParams: {'id': this.activeCategory.id, 'name': this.activeCategory.name}});\n                      });\n                  }\n              }, {\n                  text: '编辑分类',\n                  handler: () => {\n                      this.ngZone.run(() => {\n                          this.router.navigate(['/editCategory'], {queryParams: {'id': this.activeCategory.id}});\n                      });\n                  }\n              }, {\n                  text: '取消',\n                  role: 'cancel',\n                  handler: () => {\n                  }\n              }\n          ]\n      });\n      await actionSheet.present();\n  }\n  getItemColor(id: number): string {\n      if (id === this.activeCategory.id) {\n          return '';\n      } else {\n          return 'light';\n      }\n  }\n  onSelectCategory(id: number) {\n      for (let c of this.categories) {\n          if (c.id === id) {\n              this.activeCategory = c;\n              break;\n          }\n      }\n  }\n  onSelectSubCategory(category: Category) {\n      this.events.publish('category:selected', category, Date.now());\n      this.location.back();\n  }\n  back() {\n      this.location.back();\n  }\n}\n"],"sourceRoot":""}