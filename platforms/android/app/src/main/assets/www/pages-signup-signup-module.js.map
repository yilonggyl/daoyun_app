{"version":3,"sources":["webpack:///./src/app/pages/signup/signup.module.ts","webpack:///./src/app/pages/signup/signup.page.html","webpack:///./src/app/pages/signup/signup.page.scss","webpack:///./src/app/pages/signup/signup.page.ts"],"names":[],"mappings":"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","file":"pages-signup-signup-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SignupPage } from './signup.page';\nimport {CzbModule} from '../../components/czb.module';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SignupPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    CzbModule\n  ],\n  declarations: [SignupPage]\n})\nexport class SignupPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title>注册</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <div text-center style=\\\"padding-top: 20px;\\\">\\n    <img class=\\\"logo\\\" src=\\\"assets/img/logo_1.png\\\" alt=\\\"\\\">\\n  </div>\\n  <div>\\n    <ion-grid margin-top>\\n      <ion-row>\\n        <ion-col>\\n          <img src=\\\"assets/img/registered_one.png\\\" alt=\\\"\\\" *ngIf=\\\"slideIndex!==0\\\">\\n          <img src=\\\"assets/img/registered_one_one.png\\\" alt=\\\"\\\" *ngIf=\\\"slideIndex===0\\\">\\n        </ion-col>\\n        <ion-col align-self-center>\\n          <hr class=\\\"line\\\">\\n        </ion-col>\\n        <ion-col>\\n          <img src=\\\"assets/img/registered_two.png\\\" alt=\\\"\\\" *ngIf=\\\"slideIndex!==1\\\">\\n          <img src=\\\"assets/img/registered_two_two.png\\\" alt=\\\"\\\" *ngIf=\\\"slideIndex===1\\\">\\n        </ion-col>\\n        <ion-col align-self-center>\\n          <hr class=\\\"line\\\">\\n        </ion-col>\\n        <ion-col>\\n          <img src=\\\"assets/img/registered_three.png\\\" alt=\\\"\\\" *ngIf=\\\"slideIndex!==2\\\">\\n          <img src=\\\"assets/img/registered_three_three.png\\\" alt=\\\"\\\" *ngIf=\\\"slideIndex===2\\\">\\n        </ion-col>\\n        <ion-col align-self-center>\\n          <hr class=\\\"line\\\">\\n        </ion-col>\\n        <ion-col>\\n          <img src=\\\"assets/img/register_four.png\\\" alt=\\\"\\\" *ngIf=\\\"slideIndex!==3\\\">\\n          <img src=\\\"assets/img/register_four_four.png\\\" alt=\\\"\\\" *ngIf=\\\"slideIndex===3\\\">\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </div>\\n  <ion-slides  #signupSlides (ionSlideDidChange)=\\\"onSlideDidChange()\\\" style=\\\"padding: 0;\\\">\\n    <ion-slide>\\n        <form (ngSubmit)=\\\"onSignupPhone()\\\" #registerForm=\\\"ngForm\\\" style=\\\"width: 100%;\\\">\\n          <ion-list>\\n            <ion-item>\\n              <ion-input name=\\\"phone\\\" type=\\\"number\\\" placeholder=\\\"请输入您的手机号码\\\" required\\n                         pattern=\\\"^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0-3,5-9])|(19[8-9]))\\\\d{8}$\\\" [(ngModel)]=\\\"register.phone\\\" #phone=\\\"ngModel\\\">\\n              </ion-input>\\n            </ion-item>\\n              <ion-text text-left color=\\\"danger\\\" *ngIf=\\\"(phone.invalid && phone.touched)\\\">\\n                <p [hidden]=\\\"!phone.errors?.required\\\" padding-start>请输入手机号码</p>\\n                <p [hidden]=\\\"!phone.errors?.pattern\\\" padding-start>您输入的手机号格式不正确</p>\\n              </ion-text>\\n              <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"registerForm.invalid\\\">下一步</ion-button>\\n          </ion-list>\\n        </form>\\n    </ion-slide>\\n    <ion-slide>\\n        <form (ngSubmit)=\\\"onValidateCode()\\\" #codeForm=\\\"ngForm\\\" style=\\\"width: 100%;\\\">\\n          <ion-list>\\n            <ion-item>\\n              <ion-input slot=\\\"start\\\" placeholder=\\\"输入验证码\\\" name=\\\"code\\\" [(ngModel)]=\\\"register.code\\\" #code=\\\"ngModel\\\" required [disabled]=\\\"!sended\\\"></ion-input>\\n              <ion-button color=\\\"primary\\\" expand=\\\"full\\\" slot=\\\"end\\\" class=\\\"full-width\\\" (click)=\\\"onSendSMS()\\\" [disabled]=\\\"!verifyCode.disable\\\">{{verifyCode.verifyCodeTips}}</ion-button>\\n            </ion-item>\\n            <ion-text text-left color=\\\"danger\\\" *ngIf=\\\"(code.invalid && code.touched) || codeForm.submitted\\\">\\n              <p [hidden]=\\\"!code.errors?.required\\\" padding-start>请输入验证码</p>\\n              <p [hidden]=\\\"codeIsRight\\\" padding-start>您输入的验证码不正确</p>\\n            </ion-text>\\n            <div padding-horizontal>\\n              <ion-button type=\\\"button\\\" expand=\\\"full\\\" color=\\\"primary\\\" (click)=\\\"previous()\\\">上一步</ion-button>\\n            </div>\\n            <div padding-horizontal>\\n              <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"codeForm.invalid || !sended\\\">下一步</ion-button>\\n            </div>\\n            <!-- 根据需求添加若干ion-item -->\\n          </ion-list>\\n        </form>\\n    </ion-slide>\\n    <ion-slide>\\n        <form (ngSubmit)=\\\"onInfoSend()\\\" #infoForm=\\\"ngForm\\\" style=\\\"width: 100%;\\\">\\n        <ion-list>\\n          <ion-item>\\n            <ion-input name=\\\"shopName\\\" type=\\\"text\\\" placeholder=\\\"请输入学校的名称\\\" required [(ngModel)]=\\\"register.shopName\\\" #shopName=\\\"ngModel\\\">\\n            </ion-input>\\n          </ion-item>\\n          <ion-item>\\n            <ion-input name=\\\"email\\\" type=\\\"text\\\" placeholder=\\\"请输入电子邮箱\\\" required\\n                       pattern=\\\"^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\\\.[a-zA-Z0-9-]+)*\\\\.[a-zA-Z0-9]{2,6}$\\\" [(ngModel)]=\\\"register.email\\\" #email=\\\"ngModel\\\">\\n            </ion-input>\\n          </ion-item>\\n          <ion-item>\\n            <ion-input name=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"请输入登录密码\\\" required [(ngModel)]=\\\"register.password\\\" #password=\\\"ngModel\\\">\\n            </ion-input>\\n          </ion-item>\\n          <ion-item>\\n            <ion-input name=\\\"confirmPassword\\\" type=\\\"password\\\" placeholder=\\\"请输入确认密码\\\" required [(ngModel)]=\\\"register.confirmPassword\\\" #confirmPassword=\\\"ngModel\\\">\\n            </ion-input>\\n          </ion-item>\\n          <ion-text text-left color=\\\"danger\\\" *ngIf=\\\"(shopName.invalid && shopName.touched)\\\">\\n            <p [hidden]=\\\"!shopName.errors?.required\\\" padding-start>请输入学校的名称</p>\\n          </ion-text>\\n          <ion-text text-left color=\\\"danger\\\" *ngIf=\\\"(email.invalid && email.touched)\\\">\\n            <p [hidden]=\\\"!email.errors?.required\\\" padding-start>请输入电子邮箱</p>\\n            <p [hidden]=\\\"!email.errors?.pattern\\\" padding-start>您输入的邮箱格式不正确</p>\\n          </ion-text>\\n          <ion-text text-left color=\\\"danger\\\" *ngIf=\\\"(password.invalid && password.touched)\\\">\\n            <p [hidden]=\\\"!password.errors?.required\\\" padding-start>请输入登录密码</p>\\n          </ion-text>\\n          <ion-text text-left color=\\\"danger\\\" *ngIf=\\\"(confirmPassword.invalid && confirmPassword.touched) || infoForm.submitted\\\">\\n            <p [hidden]=\\\"!confirmPassword.errors?.required\\\" padding-start>请输入确认密码</p>\\n            <p [hidden]=\\\"pwdIsSame\\\" padding-start>两次输入的密码不一致</p>\\n          </ion-text>\\n          <div padding-horizontal>\\n            <ion-button type=\\\"button\\\" expand=\\\"full\\\" color=\\\"primary\\\" (click)=\\\"previous()\\\">上一步</ion-button>\\n          </div>\\n          <div padding-horizontal>\\n            <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"infoForm.invalid\\\">下一步</ion-button>\\n          </div>\\n          <!-- 根据需求添加若干ion-item -->\\n        </ion-list>\\n      </form>\\n    </ion-slide>\\n    <ion-slide>\\n      <div padding-horizontal style=\\\"width: 100%;\\\">\\n        <ion-text>\\n          <p>注册成功</p>\\n        </ion-text>\\n        <ion-button type=\\\"button\\\" expand=\\\"full\\\" color=\\\"primary\\\" href=\\\"/login\\\">立即登录</ion-button>\\n      </div>\\n    </ion-slide>\\n  </ion-slides>\\n  <app-copyright [bottom]=\\\"'20px'\\\"></app-copyright>\\n</ion-content>\\n\"","module.exports = \"app-signup .logo {\\n  width: 33%; }\\n\\napp-signup .line {\\n  height: 1.5px; }\\n\\napp-signup .full-width {\\n  width: 100%; }\\n\"","import {Component, OnInit, ViewChild, ViewEncapsulation} from '@angular/core';\nimport {MenuController, Slides, ToastController} from '@ionic/angular';\nimport {AuthenticationCodeService} from '../../services/authentication-code.service';\nimport {Register} from '../../shared/register';\nimport {UserService} from '../../services/user.service';\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.page.html',\n  styleUrls: ['./signup.page.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class SignupPage implements OnInit {\n  @ViewChild('signupSlides') signupSlides: Slides;\n  slideIndex = 0;\n  codeIsRight = true;\n  sended = false;\n  pwdIsSame = true;\n  register: Register = {\n      phone: '',\n      email: '',\n      shopName: '',\n      password: '',\n      confirmPassword: '',\n      code: ''\n  };\n  verifyCode: any = {\n    verifyCodeTips: '获取验证码',\n    countdown: 60,\n    disable: true\n  };\n  constructor(private authenticationCodeService: AuthenticationCodeService, private userService: UserService,\n              private toastController: ToastController, private menuController: MenuController) { }\n    // 字符串'signupSlides'和模板中的#signupSlides引用变量的名称一致\n    ngOnInit() {\n        this.signupSlides.lockSwipeToNext(true);\n    }\n    ionViewDidEnter() {\n        this.menuController.enable(false);\n    }\n    ionViewDidLeave() {\n        this.menuController.enable(true);\n    }\n    // getActiveIndex()返回的是promise对象，可以使用then或者await两种方法处理\n    // onSlideDidChange(event) {\n    //     this.signupSlides.getActiveIndex().then((index) => {\n    //       this.slideIndex = index;\n    //     });\n    // }\n    next() {\n        this.signupSlides.lockSwipeToNext(false);\n        this.signupSlides.slideNext();\n        this.signupSlides.lockSwipeToNext(true);\n    }\n    previous() {\n        this.signupSlides.lockSwipeToNext(false);\n        this.signupSlides.slidePrev();\n        this.signupSlides.lockSwipeToNext(true);\n    }\n    async onSlideDidChange(event) {\n        this.slideIndex = await this.signupSlides.getActiveIndex();\n    }\n    async onSignupPhone() {\n      if (!this.userService.check(this.register.phone)) {\n          this.next();\n      } else {\n          let toast = await this.toastController.create({\n              message: '该手机号已经注册，请直接登录！',\n              duration: 3000\n          });\n          toast.present();\n      }\n    }\n    // 倒计时\n    setTime() {\n        if (this.verifyCode.countdown == 1) {\n            this.verifyCode.countdown = 60;\n            this.verifyCode.verifyCodeTips = '获取验证码';\n            this.verifyCode.disable = true;\n            return;\n        } else {\n            this.verifyCode.countdown--;\n        }\n\n        this.verifyCode.verifyCodeTips = '重新获取(' + this.verifyCode.countdown + ')';\n        setTimeout(() => {\n            this.verifyCode.verifyCodeTips = '重新获取(' + this.verifyCode.countdown + ')';\n            this.setTime();\n        }, 1000);\n    }\n    onSendSMS() {\n      this.sended = true;\n      this.authenticationCodeService.createCode(4 , this.register.phone);\n      // 发送验证码成功后开始倒计时\n      this.verifyCode.disable = false;\n      this.setTime();\n    }\n    onValidateCode() {\n      if ( this.authenticationCodeService.validate(this.register.code)) {\n          this.codeIsRight = true;\n          this.next();\n          this.register.code = '';\n          this.sended = false;\n      } else {\n          this.codeIsRight = false;\n      }\n    }\n    onInfoSend() {\n      if (this.register.password === this.register.confirmPassword) {\n          // 注册成功，保存数据\n          this.userService.signup1(this.register);\n          this.next();\n      } else {\n            this.pwdIsSame = false;\n      }\n    }\n}\n"],"sourceRoot":""}