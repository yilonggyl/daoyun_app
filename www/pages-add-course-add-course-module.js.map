{"version":3,"sources":["webpack:///./node_modules/angular2-uuid/index.js","webpack:///./src/app/pages/add-course/add-course.module.ts","webpack:///./src/app/pages/add-course/add-course.page.html","webpack:///./src/app/pages/add-course/add-course.page.scss","webpack:///./src/app/pages/add-course/add-course.page.ts"],"names":[],"mappings":"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","file":"pages-add-course-add-course-module.js","sourcesContent":["\"use strict\";\nvar UUID = (function () {\n    function UUID() {\n        // no-op\n    }\n    UUID.UUID = function () {\n        if (typeof (window) !== \"undefined\" && typeof (window.crypto) !== \"undefined\" && typeof (window.crypto.getRandomValues) !== \"undefined\") {\n            // If we have a cryptographically secure PRNG, use that\n            // http://stackoverflow.com/questions/6906916/collisions-when-generating-uuids-in-javascript\n            var buf = new Uint16Array(8);\n            window.crypto.getRandomValues(buf);\n            return (this.pad4(buf[0]) + this.pad4(buf[1]) + \"-\" + this.pad4(buf[2]) + \"-\" + this.pad4(buf[3]) + \"-\" + this.pad4(buf[4]) + \"-\" + this.pad4(buf[5]) + this.pad4(buf[6]) + this.pad4(buf[7]));\n        }\n        else {\n            // Otherwise, just use Math.random\n            // https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n            // https://stackoverflow.com/questions/11605068/why-does-jshint-argue-against-bitwise-operators-how-should-i-express-this-code\n            return this.random4() + this.random4() + \"-\" + this.random4() + \"-\" + this.random4() + \"-\" +\n                this.random4() + \"-\" + this.random4() + this.random4() + this.random4();\n        }\n    };\n    UUID.pad4 = function (num) {\n        var ret = num.toString(16);\n        while (ret.length < 4) {\n            ret = \"0\" + ret;\n        }\n        return ret;\n    };\n    UUID.random4 = function () {\n        return Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1);\n    };\n    return UUID;\n}());\nexports.UUID = UUID;\n//# sourceMappingURL=index.js.map","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddCoursePage } from './add-course.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddCoursePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AddCoursePage]\n})\nexport class AddCoursePageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"light\\\" (click)=\\\"back()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>返回\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>新增班课</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <form (ngSubmit)=\\\"onSave()\\\" #addCourseForm=\\\"ngForm\\\" novalidate>\\n    <ion-list lines=\\\"none\\\">\\n      <ion-item>\\n        <ion-label position=\\\"fixed\\\">班课名称</ion-label>\\n        <ion-input name=\\\"name\\\" type=\\\"text\\\" placeholder=\\\"班课名称\\\" [(ngModel)]=\\\"course.name\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label position=\\\"fixed\\\">教师名称</ion-label>\\n        <ion-input name=\\\"teacher\\\" type=\\\"text\\\" placeholder=\\\"教师名称\\\" [(ngModel)]=\\\"course.teacher\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label position=\\\"fixed\\\">描述</ion-label>\\n        <ion-input name=\\\"desc\\\" type=\\\"text\\\" placeholder=\\\"班课描述\\\" [(ngModel)]=\\\"course.desc\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label position=\\\"fixed\\\">限选人数</ion-label>\\n        <ion-input name=\\\"maxNum\\\" type=\\\"number\\\" placeholder=\\\"最大限选人数\\\" [(ngModel)]=\\\"course.maxNum\\\"></ion-input>\\n      </ion-item>\\n      <div padding-horizontal>\\n        <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"addCourseForm.invalid\\\">保存</ion-button>\\n      </div>\\n    </ion-list>\\n  </form>\\n</ion-content>\\n\"","module.exports = \"\"","import {Component, NgZone, OnInit} from '@angular/core';\nimport {Location} from '@angular/common';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Course} from '../../shared/course';\nimport {LocalStorageService} from '../../services/local-storage.service';\nimport {AlertController, Events, ToastController} from '@ionic/angular';\nimport {UUID} from 'angular2-uuid';\n\n@Component({\n  selector: 'app-add-course',\n  templateUrl: './add-course.page.html',\n  styleUrls: ['./add-course.page.scss'],\n})\nexport class AddCoursePage implements OnInit {\n  course: Course;\n  constructor(private location: Location, private activatedRoute: ActivatedRoute,\n              private localStorage: LocalStorageService, private alertController: AlertController,\n              private router: Router, private toastController: ToastController,\n              private ngZone: NgZone, private events: Events) {\n      this.course = {\n          name: '',\n          courseId: UUID.UUID(),\n          desc: '',\n          owner: '',\n          teacher: '',\n          maxNum: 0\n      };\n      activatedRoute.queryParams.subscribe(queryParams => {\n          this.course.owner = queryParams.owner;\n      });\n  }\n\n  ngOnInit() {\n  }\n  back() {\n      this.location.back();\n  }\n\n  async onSave() {\n      if (this.course.maxNum > 0) {\n          let c = this.localStorage.get('course', []);\n          c.push(this.course);\n          let alert = await this.alertController.create({\n              header: '提示',\n              message: '新增成功',\n              buttons: ['确定']\n          });\n          alert.present();\n          this.ngZone.run( () => {\n              this.localStorage.set('course', c);\n              this.events.publish('course:created', c, Date.now());\n              this.router.navigateByUrl('tabs');\n          });\n      } else {\n          let toast = await this.toastController.create({\n              message: '请注意限选人数要大于0！',\n              duration: 3000\n          });\n          toast.present();\n      }\n  }\n}\n"],"sourceRoot":""}