{"version":3,"sources":["webpack:///./src/app/pages/course/course.module.ts","webpack:///./src/app/pages/course/course.page.html","webpack:///./src/app/pages/course/course.page.scss","webpack:///./src/app/pages/course/course.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEF;AAE3C,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,uDAAU;KACtB;CACF,CAAC;AAWF;IAAA;IAA+B,CAAC;IAAnB,gBAAgB;QAT5B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,uDAAU,CAAC;SAC3B,CAAC;OACW,gBAAgB,CAAG;IAAD,uBAAC;CAAA;AAAH;;;;;;;;;;;;ACzB7B,8rBAA8rB,QAAQ,sEAAsE,WAAW,sT;;;;;;;;;;;ACAvxB,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAwD;AACuC;AACxD;AAEkC;AACf;AAO1D;IAIE,oBAAoB,qBAA4C,EAAU,MAAc,EACpE,MAAc,EAAU,eAAgC,EACxD,YAAiC,EAAS,MAAc,EACxD,eAAgC,EAAU,QAAkB;QAHhF,iBAOC;QAPmB,0BAAqB,GAArB,qBAAqB,CAAuB;QAAU,WAAM,GAAN,MAAM,CAAQ;QACpE,WAAM,GAAN,MAAM,CAAQ;QAAU,oBAAe,GAAf,eAAe,CAAiB;QACxD,iBAAY,GAAZ,YAAY,CAAqB;QAAS,WAAM,GAAN,MAAM,CAAQ;QACxD,oBAAe,GAAf,eAAe,CAAiB;QAAU,aAAQ,GAAR,QAAQ,CAAU;QAC5E,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,gBAAgB,EAAE,UAAC,MAAM,EAAE,IAAI;YACjD,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,6BAAQ,GAAR;QACI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACtD,YAAY;QACZ,QAAQ;QACR,sBAAsB;QACtB,2BAA2B;QAC3B,8BAA8B;QAC9B,4BAA4B;QAC5B,0BAA0B;QAC1B,qBAAqB;QACrB,SAAS;QACT,QAAQ;QACR,sBAAsB;QACtB,2BAA2B;QAC3B,8BAA8B;QAC9B,4BAA4B;QAC5B,0BAA0B;QAC1B,qBAAqB;QACrB,QAAQ;QACR,KAAK;QACL,mBAAmB;QACnB,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAED,+BAAU,GAAV;QACI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACxD,CAAC;IAEK,yCAAoB,GAA1B;;;;;;;wBACI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;wBAClC,qBAAM,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC;gCACxD,MAAM,EAAE,QAAQ;gCAChB,OAAO,EAAE;oCACL;wCACI,IAAI,EAAE,MAAM;wCACZ,IAAI,EAAE,aAAa;wCACnB,OAAO,EAAE;4CACL,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gDACZ,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,EAAE,EAAC,WAAW,EAAE,EAAC,OAAO,EAAE,KAAI,CAAC,SAAS,CAAC,QAAQ,EAAC,EAAC,CAAC,CAAC;4CAC5F,CAAC,CAAC,CAAC;wCACP,CAAC;qCACJ,EAAE;wCACC,IAAI,EAAE,WAAW;wCACjB,OAAO,EAAE;4CACL,KAAI,CAAC,kBAAkB,EAAE,CAAC;wCAC9B,CAAC;qCACJ,EAAE;wCACC,IAAI,EAAE,IAAI;wCACV,IAAI,EAAE,QAAQ;wCACd,OAAO,EAAE;wCACT,CAAC;qCACJ;iCACJ;6BACJ,CAAC;;wBAvBI,WAAW,GAAG,SAuBlB;wBACF,qBAAM,WAAW,CAAC,OAAO,EAAE;;wBAA3B,SAA2B,CAAC;;;;;KAC/B;IAEK,uCAAkB,GAAxB;;;;;;;wBACI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;wBACxC,qBAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gCAC5C,MAAM,EAAE,WAAW;gCACnB,MAAM,EAAE;oCACJ;wCACI,IAAI,EAAE,UAAU;wCAChB,IAAI,EAAE,MAAM;wCACZ,WAAW,EAAE,OAAO;qCACvB;iCACJ;gCACD,OAAO,EAAE;oCACL;wCACI,IAAI,EAAE,IAAI;wCACV,IAAI,EAAE,QAAQ;wCACd,QAAQ,EAAE,WAAW;wCACrB,OAAO,EAAE;4CACL,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;wCAClC,CAAC;qCACJ,EAAE;wCACC,IAAI,EAAE,IAAI;wCACV,OAAO,EAAE,UAAC,IAAI;4CACV,YAAY;4CACZ,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gDACZ,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;4CACnC,CAAC,CAAC,CAAC;wCACP,CAAC;qCACJ;iCACJ;6BACJ,CAAC;;wBA3BI,KAAK,GAAG,SA2BZ;wBACF,qBAAM,KAAK,CAAC,OAAO,EAAE;;wBAArB,SAAqB,CAAC;;;;;KACzB;IAEK,+BAAU,GAAhB,UAAiB,QAAgB;;;;;;6BACzB,SAAQ,CAAC,MAAM,IAAI,CAAC,GAApB,wBAAoB;wBACR,qBAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gCAC1C,MAAM,EAAE,IAAI;gCACZ,OAAO,EAAE,MAAM;gCACf,OAAO,EAAE,CAAC,IAAI,CAAC;6BAClB,CAAC;;wBAJE,UAAQ,SAIV;wBACF,OAAK,CAAC,OAAO,EAAE,CAAC;;4BAEJ,qBAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;4BAC1C,OAAO,EAAE,YAAY;4BACrB,QAAQ,EAAE,IAAI;yBACjB,CAAC;;wBAHE,KAAK,GAAG,SAGV;wBACF,KAAK,CAAC,OAAO,EAAE,CAAC;;;wBAEpB,IAAI,CAAC,UAAU,EAAE,CAAC;;;;;KACrB;IACC,mCAAc,GAAd,UAAe,QAAgB;QAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACtD,KAAc,UAAW,EAAX,SAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAAE;YAAtB,IAAI,CAAC;YACN,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,EAAE;gBACnD,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,IAAI,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,IAAI,CAAC,CAAC,KAAK,EAAE;oBAC1E,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,EAAE,EAAC,WAAW,EAAE,EAAE,UAAU,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAC,EAAC,CAAC,CAAC;iBACnG;qBAAM;oBACH,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;iBACvC;aACJ;SACJ;IACL,CAAC;IACK,8CAAyB,GAA/B;;;;;;4BACwB,qBAAM,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC;4BACxD,MAAM,EAAE,IAAI;4BACZ,OAAO,EAAE;gCACL;oCACI,IAAI,EAAE,MAAM;oCACZ,IAAI,EAAE,aAAa;oCACnB,OAAO,EAAE;wCACL,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;oCAC7B,CAAC;iCACJ,EAAE;oCACC,IAAI,EAAE,KAAK;oCACX,OAAO,EAAE;wCACL,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;oCAC7B,CAAC;iCACJ,EAAE;oCACC,IAAI,EAAE,IAAI;oCACV,OAAO,EAAE;wCACL,KAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;oCAC5B,CAAC;iCACJ,EAAE;oCACC,IAAI,EAAE,MAAM;oCACZ,OAAO,EAAE;wCACL,KAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;oCAC5B,CAAC;iCACJ,EAAE;oCACC,IAAI,EAAE,IAAI;oCACV,IAAI,EAAE,QAAQ;oCACd,OAAO,EAAE;oCACT,CAAC;iCACJ;6BACJ;yBACJ,CAAC;;wBA/BI,WAAW,GAAG,SA+BlB;wBACF,qBAAM,WAAW,CAAC,OAAO,EAAE;;wBAA3B,SAA2B,CAAC;;;;;KAC/B;IAtKQ,UAAU;QALtB,+DAAS,CAAC;YACT,QAAQ,EAAE,YAAY;;;SAGvB,CAAC;yCAK2C,oEAAqB,EAAkB,oDAAM;YAC5D,sDAAM,EAA2B,8DAAe;YAC1C,mFAAmB,EAAiB,qDAAM;YACvC,8DAAe,EAAoB,oEAAQ;OAPrE,UAAU,CAuKtB;IAAD,iBAAC;CAAA;AAvKsB","file":"pages-course-course-module~pages-tabs-tabs-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CoursePage } from './course.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CoursePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CoursePage]\n})\nexport class CoursePageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title>班课列表</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button color=\\\"light\\\" slot=\\\"end\\\" (click)=\\\"onPresentActionSheet()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"add\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content no-padding>\\n  <ion-list lines=\\\"full\\\" color=\\\"light\\\">\\n    <ion-item *ngFor=\\\"let p of course\\\" >\\n      <ion-col size=\\\"2\\\">\\n        <img src=\\\"assets/img/c_goodspicture.png\\\" alt=\\\"\\\">\\n      </ion-col>\\n      <ion-col size=\\\"9\\\" (click)=\\\"onSelectCourse(p.courseId)\\\">\\n        <ion-row>2018级工硕-1</ion-row>\\n        <ion-row>{{p.name}}</ion-row>\\n        <ion-row>\\n          <ion-text color=\\\"medium\\\">{{p.teacher}}</ion-text>\\n          <ion-text padding-start=\\\"5px\\\" color=\\\"medium\\\">学校课表班课</ion-text>\\n        </ion-row>\\n      </ion-col>\\n      <ion-col size=\\\"1\\\">\\n        <ion-icon name=\\\"share\\\" (click)=\\\"onPresentActionSheetShare()\\\"></ion-icon>\\n      </ion-col>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\\n\"","module.exports = \"\"","import {Component, NgZone, OnInit} from '@angular/core';\nimport {ActionSheetController, AlertController, Events, ToastController} from '@ionic/angular';\nimport {Router} from '@angular/router';\nimport {Course} from '../../shared/course';\nimport {LocalStorageService} from '../../services/local-storage.service';\nimport {AppShare} from '../../services/app-share.service';\n\n@Component({\n  selector: 'app-course',\n  templateUrl: './course.page.html',\n  styleUrls: ['./course.page.scss'],\n})\nexport class CoursePage implements OnInit {\n\n  course: Array<Course>;\n  loginUser: any;\n  constructor(private actionSheetController: ActionSheetController, private ngZone: NgZone,\n              private router: Router, private alertController: AlertController,\n              private localStorage: LocalStorageService, public events: Events,\n              private toastController: ToastController, private appShare: AppShare) {\n      this.events.subscribe('course:created', (course, time) => {\n          this.course = course;\n      });\n  }\n\n  ngOnInit() {\n      this.loginUser = this.localStorage.get('login', null);\n      // let x = [\n      //     {\n      //         name: '数学',\n      //         courseId: '001',\n      //         desc: '一节普普通通的数学课',\n      //         owner: 'teacher',\n      //         teacher: '郭乙龙',\n      //         maxNum: 30\n      //     },\n      //     {\n      //         name: '语文',\n      //         courseId: '002',\n      //         desc: '一节普普通通的语文课',\n      //         owner: 'student',\n      //         teacher: '郭乙龙',\n      //         maxNum: 30\n      //     }\n      // ];\n      // this.course = x;\n      this.initCourse();\n  }\n\n  initCourse() {\n      this.course = this.localStorage.get('course', null);\n  }\n\n  async onPresentActionSheet() {\n      this.loginUser = this.localStorage.get('login', null);\n      const actionSheet = await this.actionSheetController.create({\n          header: '选择您的操作',\n          buttons: [\n              {\n                  text: '创建班课',\n                  role: 'destructive',\n                  handler: () => {\n                      this.ngZone.run(() => {\n                          this.router.navigate(['/addCourse'], {queryParams: {'owner': this.loginUser.shopName}});\n                      });\n                  }\n              }, {\n                  text: '通过班课号加入班课',\n                  handler: () => {\n                      this.presentAlertPrompt();\n                  }\n              }, {\n                  text: '取消',\n                  role: 'cancel',\n                  handler: () => {\n                  }\n              }\n          ]\n      });\n      await actionSheet.present();\n  }\n\n  async presentAlertPrompt() {\n      this.loginUser = this.localStorage.get('login', null);\n      const alert = await this.alertController.create({\n          header: '通过班课号加入班课',\n          inputs: [\n              {\n                  name: 'courseId',\n                  type: 'text',\n                  placeholder: '输入班课号'\n              }\n          ],\n          buttons: [\n              {\n                  text: '取消',\n                  role: 'cancel',\n                  cssClass: 'secondary',\n                  handler: () => {\n                      console.log('Confirm Cancel');\n                  }\n              }, {\n                  text: '保存',\n                  handler: (data) => {\n                      // todo 加入班课\n                      this.ngZone.run(() => {\n                          this.addSuccess(data.courseId);\n                      });\n                  }\n              }\n          ]\n      });\n      await alert.present();\n  }\n\n  async addSuccess(courseId: string) {\n      if (courseId.length == 8) {\n          let alert = await this.alertController.create({\n              header: '提示',\n              message: '加入成功',\n              buttons: ['确定']\n          });\n          alert.present();\n      } else {\n          let toast = await this.toastController.create({\n              message: '请输入正确的班课号！',\n              duration: 3000\n          });\n          toast.present();\n      }\n      this.initCourse();\n  }\n    onSelectCourse(courseId: string) {\n        this.loginUser = this.localStorage.get('login', null);\n        for (let c of this.course) {\n            if (c.courseId === courseId && this.loginUser != null) {\n                if (this.loginUser.shopName == 'admin' || this.loginUser.shopName == c.owner) {\n                    this.router.navigate(['/courseDetial'], {queryParams: { 'courseId': courseId.substring(0, 8)}});\n                } else {\n                    this.router.navigateByUrl('signIn');\n                }\n            }\n        }\n    }\n    async onPresentActionSheetShare() {\n        const actionSheet = await this.actionSheetController.create({\n            header: '分享',\n            buttons: [\n                {\n                    text: '微信好友',\n                    role: 'destructive',\n                    handler: () => {\n                        this.appShare.wxShare(0);\n                    }\n                }, {\n                    text: '朋友圈',\n                    handler: () => {\n                        this.appShare.wxShare(1);\n                    }\n                }, {\n                    text: '短信',\n                    handler: () => {\n                        this.appShare.sendSms();\n                    }\n                }, {\n                    text: 'QQ好友',\n                    handler: () => {\n                        this.appShare.qqShare();\n                    }\n                }, {\n                    text: '取消',\n                    role: 'cancel',\n                    handler: () => {\n                    }\n                }\n            ]\n        });\n        await actionSheet.present();\n    }\n}\n"],"sourceRoot":""}