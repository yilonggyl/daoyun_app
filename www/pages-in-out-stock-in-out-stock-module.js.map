{"version":3,"sources":["webpack:///./src/app/pages/in-out-stock/in-out-stock.module.ts","webpack:///./src/app/pages/in-out-stock/in-out-stock.page.html","webpack:///./src/app/pages/in-out-stock/in-out-stock.page.scss","webpack:///./src/app/pages/in-out-stock/in-out-stock.page.ts"],"names":[],"mappings":"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","file":"pages-in-out-stock-in-out-stock-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { InOutStockPage } from './in-out-stock.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InOutStockPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [InOutStockPage]\n})\nexport class InOutStockPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"light\\\" (click)=\\\"back()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>返回\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>修改库存</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content no-padding>\\n  <div style=\\\"margin: 15px 15px 30px 15px;\\\">\\n    <ion-row>\\n      <ion-col style=\\\"padding: 0;\\\">\\n        <ion-button expand=\\\"full\\\" color=\\\"primary\\\" fill=\\\"outline\\\" (click)=\\\"toRight()\\\" style=\\\"border-left:solid 1px;\\\" *ngIf=\\\"nowIndex != 0\\\">入库</ion-button>\\n        <ion-button expand=\\\"full\\\" color=\\\"primary\\\" (click)=\\\"toRight()\\\" *ngIf=\\\"nowIndex == 0\\\">入库</ion-button>\\n      </ion-col>\\n      <ion-col style=\\\"padding: 0;\\\">\\n        <ion-button expand=\\\"full\\\" color=\\\"primary\\\" fill=\\\"outline\\\" (click)=\\\"toLeft()\\\" style=\\\"border-right:solid 1px;\\\" *ngIf=\\\"nowIndex == 0\\\">出库</ion-button>\\n        <ion-button expand=\\\"full\\\" color=\\\"primary\\\"(click)=\\\"toLeft()\\\" *ngIf=\\\"nowIndex != 0\\\">出库</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </div>\\n  <ion-slides #inOutSlides>\\n    <ion-slide>\\n      <form (ngSubmit)=\\\"onInStock()\\\" #inStockForm=\\\"ngForm\\\" style=\\\"width: 100%;\\\">\\n        <ion-list padding-right no-margin>\\n          <ion-item>\\n            <ion-label position=\\\"fixed\\\">入库数量</ion-label>\\n            <ion-input name=\\\"stock\\\" type=\\\"text\\\" [(ngModel)]=\\\"in\\\" required></ion-input>\\n          </ion-item>\\n          <ion-item margin-top>\\n            <ion-label position=\\\"fixed\\\">备注</ion-label>\\n            <ion-input name=\\\"note\\\" type=\\\"text\\\" [(ngModel)]=\\\"inNote\\\"></ion-input>\\n          </ion-item>\\n          <ion-item lines=\\\"none\\\"></ion-item>\\n          <ion-item lines=\\\"none\\\">\\n            <ion-note slot=\\\"end\\\">当前库存：{{product.stock}}件</ion-note>\\n          </ion-item>\\n          <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"inStockForm.invalid\\\">确认入库</ion-button>\\n        </ion-list>\\n      </form>\\n    </ion-slide>\\n    <ion-slide>\\n      <form (ngSubmit)=\\\"onOutStock()\\\" #outStockForm=\\\"ngForm\\\" style=\\\"width: 100%;\\\">\\n        <ion-list padding-right no-margin>\\n          <ion-item>\\n            <ion-label position=\\\"fixed\\\">出库数量</ion-label>\\n            <ion-input name=\\\"stock\\\" type=\\\"text\\\" [(ngModel)]=\\\"out\\\" required  #stock=\\\"ngModel\\\"></ion-input>\\n          </ion-item>\\n          <ion-item margin-top>\\n            <ion-label position=\\\"fixed\\\">备注</ion-label>\\n            <ion-input name=\\\"note\\\" type=\\\"text\\\" [(ngModel)]=\\\"inNote\\\"></ion-input>\\n          </ion-item>\\n          <ion-item lines=\\\"none\\\">\\n            <ion-text text-left color=\\\"danger\\\" *ngIf=\\\"(out > product.stock)\\\">\\n              <p padding-start>出库数量不能大于库存！</p>\\n            </ion-text>\\n          </ion-item>\\n          <ion-item lines=\\\"none\\\">\\n            <ion-note slot=\\\"end\\\">当前库存：{{product.stock}}件</ion-note>\\n          </ion-item>\\n          <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"outStockForm.invalid || out > product.stock\\\">确认出库</ion-button>\\n        </ion-list>\\n      </form>\\n    </ion-slide>\\n  </ion-slides>\\n</ion-content>\\n\"","module.exports = \"\"","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {Product} from '../../shared/product';\nimport {ProductService} from '../../services/product.service';\nimport {Location} from '@angular/common';\nimport {Slides} from '@ionic/angular';\n\n@Component({\n  selector: 'app-in-out-stock',\n  templateUrl: './in-out-stock.page.html',\n  styleUrls: ['./in-out-stock.page.scss'],\n})\nexport class InOutStockPage implements OnInit {\n  @ViewChild('inOutSlides') inOutSlides: Slides;\n  id: string;\n  product: Product;\n  nowIndex = 0;\n  in: string;\n  inNote: string;\n  out: string;\n  outNote: string;\n  constructor(private activatedRoute: ActivatedRoute, private productService: ProductService,\n              private location: Location) {\n      activatedRoute.queryParams.subscribe(queryParams => {\n          this.id = queryParams.id;\n      });\n      productService.getProductById(this.id).then( (data) => {\n          if (data.success == true) {\n              this.product = data.result;\n              if (this.product.stock == '') {\n                  this.product.stock = 0;\n              }\n          }\n      });\n  }\n  ionViewWillEnter() {\n      this.nowIndex = 0;\n      this.in = '';\n      this.inNote = '';\n      this.out = '';\n      this.outNote = '';\n  }\n  ngOnInit() {\n    this.inOutSlides.lockSwipeToNext(true);\n  }\n  back() {\n    this.location.back();\n  }\n  toRight() {\n      if (this.nowIndex != 0) {\n          this.nowIndex = 0;\n          this.inOutSlides.lockSwipeToNext(false);\n          this.inOutSlides.slidePrev();\n          this.inOutSlides.lockSwipeToNext(true);\n      }\n  }\n  toLeft() {\n    if (this.nowIndex != 1) {\n      this.nowIndex = 1;\n      this.inOutSlides.lockSwipeToNext(false);\n      this.inOutSlides.slideNext();\n      this.inOutSlides.lockSwipeToNext(true);\n    }\n  }\n  onInStock() {\n    this.product.stock += +this.in;\n    this.product.note = this.inNote;\n    this.productService.update(this.product);\n    this.back();\n  }\n  async onOutStock() {\n      this.product.stock -= +this.out;\n      this.product.note = this.outNote;\n      this.productService.update(this.product);\n      this.back();\n  }\n}\n"],"sourceRoot":""}